# 性能优化

### 性能优化的目标，就是整体的时间变短

#### 从输入url到显示页面，到底发生了什么（前端的角度）

1. 比如 浏览器输入 www.baidu.com
1. 浏览器通过DNS服务，把url（域名）解析为ip地址；
1. 浏览器和ip地址建立TCP连接，发送HTTP请求（三次握手）
1. 服务器接收到请求，然后查数据库，读取文件等，拼接好返回的 HTTP响应
1. 浏览器收到首屏html开始渲染过程。
1. 把html解析为dom-tree（过程中会加载额外的css，js）
1. 解析css为css tree
1. dom-tree + css-tree 生成 render-tree
1. 浏览器根据render-tree把页面渲染出来

**针对上面的过程可以进行性能优化******基本上有两个方向****

1. 少加载文件（图片懒加载，雪碧图等）
1. 少执行代码

性能检测神器

**npm install -g lighthouse**

用法，新建一个文件夹，命令行进入这个文件夹，比如查看百度首页返回的结果执行`lighthouse https://www.baidu.com`

就会生成一个html文件，打开就是一些关于请求资源相关的性能评分 

开发可以用这个工具来宏观展示哪些地方需要进行性能优化



图片优化

图片渐进显示（先显示低分辨率，然后慢慢加载高分辨率的图片进来）

懒加载

骨架图



防抖，节流











